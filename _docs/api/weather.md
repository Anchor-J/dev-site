---
title: 常规天气数据
book: API
service: api
data: weather
version: 6.1
description: 本接口包含了3-10天天气预报、实况天气、逐小时天气预报以及生活指数，有对应权限的用户可通过访问此接口一次性获取某一地区的上述所有天气数据
toc: true
permalink: /docs/api/weather
---

## 数据介绍

通过常规天气数据API，可以获取到3-10天天气预报、实况天气、逐小时天气预报以及生活指数。

## 获取方式

HTTP GET

## 数据格式

JSON

## 请求URL

**商业版：**
```
https://api.heweather.net/s6/weather/{weather-type}?{parameters}
```

**免费版：**
```
https://free-api.heweather.net/s6/weather/{weather-type}?{parameters}
```

- `{weather-type}` 代表不同的天气数据类型，必选，请使用以下值替代：

| weather-type 值  | 描述                                       | 授权|
| --------- | ------------------------------------------ |---|
| now       | 实况天气                                   |商业/免费|
| forecast  | 3-10天预报                                 |商业/免费|
| hourly    | 逐小时预报                                 |商业/免费|
| lifestyle | 生活指数                                   |商业/免费|

> 请注意：如果数据用于任何[商业行为](https://www.heweather.com/support/license)，必须[购买商业授权](https://console.heweather.com/app/price)；某些数据的[商业版和免费版有所不同](https://www.heweather.com/support/weather-pro-vs-lite)

- `{parameters}`代表请求参数，包括必选和可选参数。所有请求参数均使用 `&`进行分隔，参数值存在中文或特殊字符的情况，需要对参数进行 **url encode**。

> 请注意，在替换`{weather-type}`和`{parameters}`对应值的时候，URL中不要包含大括号`{}`

### 请求URL示例
```
# 获取北京实况天气
https://api.heweather.net/s6/weather/now?location=beijing&key=xxx
```

## 请求参数

| 参数     | 描述                                                         | 选择 | 示例值                                                       |
| -------- | ------------------------------------------------------------ | ---- | ------------------------------------------------------------ |
| location | 需要查询的城市或地区，可输入以下值：<br>1. 城市ID：[城市列表](/docs/refer/city)<br>2. 经纬度格式：经度,纬度（**经度在前纬度在后**，英文`,`分隔，十进制格式，北纬东经为正，南纬西经为负<br>3. 城市名称，支持中英文和汉语拼音<br>4. 城市名称，上级城市 或 省 或 国家，英文`,`分隔，此方式可以在重名的情况下只获取想要的地区的天气数据，例如 西安,陕西<br>5. IP<br> 6. 根据请求自动判断，根据用户的请求获取IP，通过 IP 定位并获取城市数据 | 必选 | 1. location=CN101010100<br>2. location=116.40,39.9<br>3. location=北京、 location=北京市、 location=beijing<br>4. location=朝阳,北京、 location=chaoyang,beijing<br>5. location=60.194.130.1<br>6. location=auto_ip |
| lang     | 多语言，可以不使用该参数，默认为简体中文<br>详见[多语言参数](/docs/refer/i18n) | 可选 | lang=en                                                      |
| unit     | 单位选择，公制（m）或英制（i），默认为公制单位<br>详见[度量衡单位参数](/docs/refer/unit) | 可选 | unit=i                                                       |
| key      | 用户认证key，请参考[如何获取你的KEY](https://www.heweather.com/support/setup-app-key)<br>支持[数字签名](/docs/refer/sercet-authorization)方式进行认证，推荐使用 | 必选 | key=xxxxxxxxxxxxxx                                           |

## 返回参数和数值说明

常规天气数据接口将返回一些基本字段和不同天气类型的字段。

返回的数据中，`basic`，`update`和`status`是基本参数，在不同数据类型中都会返回。

具体的天气数据，会根据你请求的`{weather-type}`不同，将返回不同的天气数据。

### `basic` 基础信息

基础信息包括所查询的城市/地区的一些基本信息，例如名称、ID、经纬度等

| 参数        | 描述                     | 示例值      |
| ----------- | ------------------------ | ----------- |
| location    | 地区／城市名称           | 卓资        |
| cid         | 地区／城市ID             | CN101080402 |
| lat         | 地区／城市纬度           | 40.89576    |
| lon         | 地区／城市经度           | 112.577702  |
| parent_city | 该地区／城市的上级城市   | 乌兰察布    |
| admin_area  | 该地区／城市所属行政区域 | 内蒙古      |
| cnty        | 该地区／城市所属国家名称 | 中国        |
| tz          | 该地区／城市所在时区     | +8.0        |

### `update` 接口更新时间

接口更新时间为当前接口的更新时间，包括城市/地区所在地的当地时间和UTC时间。在一些接口中，其中一部分数据会单独更新，但此时`update`时间不会变更。

| 参数 | 描述                                     | 示例值           |
| ---- | ---------------------------------------- | ---------------- |
| loc  | 当地时间，24小时制，格式yyyy-MM-dd HH:mm | 2017-10-25 12:34 |
| utc  | UTC时间，24小时制，格式yyyy-MM-dd HH:mm  | 2017-10-25 04:34 |

### `satuts` 接口状态

当前接口的状态，正常返回数据会返回`ok`，若未能返回数据，会给出具体的错误码，不同的错误码请参考[接口状态码及错误码](/docs/refer/status-code)

| 参数   | 描述                                                         | 示例值 |
| ------ | ------------------------------------------------------------ | ------ |
| status | 接口状态，具体含义请参考[接口状态码及错误码](/docs/refer/status-code) | ok     |

### `now`实况天气

实况天气即为当前时间点的天气状况以及温湿风压等气象指数，具体包含的数据：体感温度、实测温度、天气状况、风力、风速、风向、相对湿度、大气压强、降水量、能见度等。

| 参数      | 描述                       | 示例 |
| --------- | -------------------------- | ---- |
| fl        | 体感温度，默认单位：摄氏度 | 23   |
| tmp       | 温度，默认单位：摄氏度     | 21   |
| cond_code | 实况天气状况代码           | 100  |
| cond_txt  | 实况天气状况描述           | 晴   |
| wind_deg  | 风向360角度                | 305  |
| wind_dir  | 风向                       | 西北 |
| wind_sc   | 风力                       | 3-4  |
| wind_spd  | 风速，公里/小时            | 15   |
| hum       | 相对湿度                   | 40   |
| pcpn      | 降水量                     | 0    |
| pres      | 大气压强                   | 1020 |
| vis       | 能见度，默认单位：公里     | 10   |
| cloud     | 云量                       | 23   |

### `daily_forecast` 天气预报

3-10天天气预报数据，天气预报包含的数据：日出日落、月升月落、最高最低温度、天气白天和夜间状况、风力、风速、风向、相对湿度、大气压强、降水量、降水概率、露点温度、紫外线强度、能见度等数据

| 参数         | 描述               | 示例值     |
| ------------ | ------------------ | ---------- |
| date         | 预报日期           | 2013-12-30 |
| sr           | 日出时间           | 07:36      |
| ss           | 日落时间           | 16:58      |
| mr           | 月升时间           | 04:47      |
| ms           | 月落时间           | 14:59      |
| tmp_max      | 最高温度           | 4          |
| tmp_min      | 最低温度           | -5         |
| cond\_code_d | 白天天气状况代码   | 100        |
| cond\_code_n | 晚间天气状况代码   | 100        |
| cond\_txt_d  | 白天天气状况描述   | 晴         |
| cond\_txt_n  | 晚间天气状况描述   | 晴         |
| wind_deg     | 风向360角度        | 310        |
| wind_dir     | 风向               | 西北风     |
| wind_sc      | 风力               | 1-2        |
| wind_spd     | 风速，公里/小时    | 14         |
| hum          | 相对湿度           | 37         |
| pcpn         | 降水量             | 0          |
| pop          | 降水概率           | 0          |
| pres         | 大气压强           | 1018       |
| uv_index     | 紫外线强度指数     | 3          |
| vis          | 能见度，单位：公里 | 10         |

### `hourly` 逐小时预报

未来24-168个小时，逐小时的天气预报数据数据，具体包含的数据：温度、天气状况、风力、风速、风向、相对湿度、大气压强、降水概率等。

| 参数      | 描述                           | 示例             |
| --------- | ------------------------------ | ---------------- |
| time      | 预报时间，格式yyyy-MM-dd hh:mm | 2013-12-30 13:00 |
| tmp       | 温度                           | 2                |
| cond_code | 天气状况代码                   | 101              |
| cond_txt  | 天气状况代码                   | 多云             |
| wind_deg  | 风向360角度                    | 290              |
| wind_dir  | 风向                           | 西北             |
| wind_sc   | 风力                           | 3-4              |
| wind_spd  | 风速，公里/小时                | 15               |
| hum       | 相对湿度                       | 30               |
| pres      | 大气压强                       | 1030             |
| pop       | 降水概率，百分比               | 30               |
| dew       | 露点温度                       | 12               |
| cloud     | 云量                           | 23               |

### `lifestyle` 生活指数

生活指数和生活指数预报包括：穿衣、洗车、感冒、紫外线、运动、舒适度、旅游、空气污染扩散条件。

> 目前生活指数仅支持中国地区

| 参数 | 描述                                                         |
| ---- | ------------------------------------------------------------ |
| brf  | 生活指数简介                                                 |
| txt  | 生活指数详细描述                                             |
| type | 生活指数类型 comf：舒适度指数、cw：洗车指数、drsg：穿衣指数、flu：感冒指数、sport：运动指数、trav：旅游指数、uv：紫外线指数、air：空气污染扩散条件指数、ac：空调开启指数、ag：过敏指数、gl：太阳镜指数、mu：化妆指数、airc：晾晒指数、ptfc：交通指数、fsh：钓鱼指数、spi：防晒指数 |

### `lifestyle_forecast` 生活指数预报

生活指数预报提供最长未来3天的预报数据，包括：穿衣、洗车、感冒、紫外线、运动、舒适度、旅游、空气污染扩散条件。

>  目前生活指数预报仅支持中国地区

| 参数 | 描述                                                         |
| ---- | ------------------------------------------------------------ |
| date | 预报日期，例如2017-12-30                                     |
| brf  | 生活指数简介                                                 |
| txt  | 生活指数详细描述                                             |
| type | 生活指数类型 comf：舒适度指数、cw：洗车指数、drsg：穿衣指数、flu：感冒指数、sport：运动指数、trav：旅游指数、uv：紫外线指数、air：空气污染扩散条件指数、ac：空调开启指数、ag：过敏指数、gl：太阳镜指数、mu：化妆指数、airc：晾晒指数、ptfc：交通指数、fsh：钓鱼指数、spi：防晒指数 |

